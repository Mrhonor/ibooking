{"ast":null,"code":"import axios from 'axios';\nimport { Message, Loading } from 'element-ui';\nconst ConfigBaseURL = 'http://114.55.174.20:6992/'; //默认路径，这里也可以使用env来判断环境\n\nconst FormData = require('form-data');\n\nconst data = new FormData();\nlet loadingInstance = null; //这里是loading\n//使用create方法创建axios实例\n\nexport const Service = axios.create({\n  timeout: 7000,\n  // 请求超时时间\n  baseURL: ConfigBaseURL,\n  method: 'post',\n  headers: { ...data.getHeaders()\n  }\n}); // 添加请求拦截器\n\nService.interceptors.request.use(config => {\n  loadingInstance = Loading.service({\n    lock: true,\n    text: 'loading...'\n  });\n  return config;\n}); // 添加响应拦截器\n\nService.interceptors.response.use(response => {\n  loadingInstance.close(); // console.log(response)\n\n  return response.data;\n}, error => {\n  console.log('TCL: error', error);\n  const msg = error.Message !== undefined ? error.Message : '';\n  Message({\n    message: '网络错误' + msg,\n    type: 'error',\n    duration: 3 * 1000\n  });\n  loadingInstance.close();\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","Message","Loading","ConfigBaseURL","FormData","require","data","loadingInstance","Service","create","timeout","baseURL","method","headers","getHeaders","interceptors","request","use","config","service","lock","text","response","close","error","console","log","msg","undefined","message","type","duration","Promise","reject"],"sources":["C:/Users/Administrator/Desktop/vue-project/src/api/Service.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message, Loading } from 'element-ui'\r\nconst ConfigBaseURL = 'http://114.55.174.20:6992/' //默认路径，这里也可以使用env来判断环境\r\nconst FormData = require('form-data');\r\nconst data = new FormData();\r\nlet loadingInstance = null //这里是loading\r\n//使用create方法创建axios实例\r\nexport const Service = axios.create({\r\n  timeout: 7000, // 请求超时时间\r\n  baseURL: ConfigBaseURL,\r\n  method: 'post',\r\n  headers: {\r\n    ...data.getHeaders()\r\n  }\r\n})\r\n// 添加请求拦截器\r\nService.interceptors.request.use(config => {\r\n  loadingInstance = Loading.service({\r\n    lock: true,\r\n    text: 'loading...'\r\n  })\r\n  return config\r\n})\r\n// 添加响应拦截器\r\nService.interceptors.response.use(response => {\r\n  loadingInstance.close()\r\n  // console.log(response)\r\n  return response.data\r\n}, error => {\r\n  console.log('TCL: error', error)\r\n  const msg = error.Message !== undefined ? error.Message : ''\r\n  Message({\r\n    message: '网络错误' + msg,\r\n    type: 'error',\r\n    duration: 3 * 1000\r\n  })\r\n  loadingInstance.close()\r\n  return Promise.reject(error)\r\n})"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,YAAjC;AACA,MAAMC,aAAa,GAAG,4BAAtB,C,CAAmD;;AACnD,MAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAMC,IAAI,GAAG,IAAIF,QAAJ,EAAb;AACA,IAAIG,eAAe,GAAG,IAAtB,C,CAA2B;AAC3B;;AACA,OAAO,MAAMC,OAAO,GAAGR,KAAK,CAACS,MAAN,CAAa;EAClCC,OAAO,EAAE,IADyB;EACnB;EACfC,OAAO,EAAER,aAFyB;EAGlCS,MAAM,EAAE,MAH0B;EAIlCC,OAAO,EAAE,EACP,GAAGP,IAAI,CAACQ,UAAL;EADI;AAJyB,CAAb,CAAhB,C,CAQP;;AACAN,OAAO,CAACO,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiCC,MAAM,IAAI;EACzCX,eAAe,GAAGL,OAAO,CAACiB,OAAR,CAAgB;IAChCC,IAAI,EAAE,IAD0B;IAEhCC,IAAI,EAAE;EAF0B,CAAhB,CAAlB;EAIA,OAAOH,MAAP;AACD,CAND,E,CAOA;;AACAV,OAAO,CAACO,YAAR,CAAqBO,QAArB,CAA8BL,GAA9B,CAAkCK,QAAQ,IAAI;EAC5Cf,eAAe,CAACgB,KAAhB,GAD4C,CAE5C;;EACA,OAAOD,QAAQ,CAAChB,IAAhB;AACD,CAJD,EAIGkB,KAAK,IAAI;EACVC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,KAA1B;EACA,MAAMG,GAAG,GAAGH,KAAK,CAACvB,OAAN,KAAkB2B,SAAlB,GAA8BJ,KAAK,CAACvB,OAApC,GAA8C,EAA1D;EACAA,OAAO,CAAC;IACN4B,OAAO,EAAE,SAASF,GADZ;IAENG,IAAI,EAAE,OAFA;IAGNC,QAAQ,EAAE,IAAI;EAHR,CAAD,CAAP;EAKAxB,eAAe,CAACgB,KAAhB;EACA,OAAOS,OAAO,CAACC,MAAR,CAAeT,KAAf,CAAP;AACD,CAdD"},"metadata":{},"sourceType":"module"}