{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport layout from '@/components/layout-page.vue';\nimport { getStudyRoom, getStudyRoomOpen, getStudyRoomId } from '@/api/request';\nexport default {\n  components: {\n    layout\n  },\n\n  data() {\n    return {\n      currentPage: 1,\n      pagesize: 10,\n      total: 10,\n      tableData: [],\n      active: 0,\n      input: '' // Visible: false,\n\n    };\n  },\n\n  methods: {\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      this.query();\n    },\n\n    next() {\n      if (this.active++ > 3) this.active = 0;\n    },\n\n    query() {\n      getStudyRoom().then(res => {\n        if (res) {\n          if (!res.length) {\n            this.tableData = [res];\n          } else {\n            this.tableData = res;\n          }\n\n          for (let i in res) {\n            if (res[i].openStatus) {\n              this.tableData[i].open = 1;\n              this.tableData[i].openStatus = \"是\";\n            } else {\n              this.tableData[i].openStatus = \"否\";\n              this.tableData[i].open = 0;\n            } // console.log(this.tableData[i].openStatus)\n\n          }\n\n          this.total = res.length;\n        }\n      });\n    },\n\n    queryOpen() {\n      getStudyRoomOpen().then(res => {\n        if (res) {\n          if (!res.length) {\n            this.tableData = [res];\n          } else {\n            this.tableData = res;\n          }\n\n          for (let i in res) {\n            if (res[i].openStatus) {\n              this.tableData[i].open = 1;\n              this.tableData[i].openStatus = \"是\";\n            } else {\n              this.tableData[i].openStatus = \"否\";\n              this.tableData[i].open = 0;\n            } // console.log(this.tableData[i].openStatus)\n\n          }\n\n          this.total = res.length;\n        }\n      });\n    },\n\n    queryId() {\n      getStudyRoomId(this.input).then(res => {\n        if (res) {\n          if (!res.length) {\n            this.tableData = [res];\n          } else {\n            this.tableData = res;\n          }\n\n          for (let i in res) {\n            if (res[i].openStatus) {\n              this.tableData[i].open = 1;\n              this.tableData[i].openStatus = \"是\";\n            } else {\n              this.tableData[i].openStatus = \"否\";\n              this.tableData[i].open = 0;\n            } // console.log(this.tableData[i].openStatus)\n\n          }\n\n          this.total = res.length;\n        }\n      });\n    },\n\n    chooseRoom(val) {\n      this.$router.replace('/book/seat?roomnum=' + val.id + '&st=' + val.startTime + '&et=' + val.endTime);\n    }\n\n  },\n\n  mounted() {\n    this.query();\n  }\n\n};","map":null,"metadata":{},"sourceType":"module"}