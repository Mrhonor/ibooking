{"ast":null,"code":"import axios from 'axios';\nimport { Message, Loading } from 'element-ui';\nconst ConfigBaseURL = 'http://127.0.0.1:8090/'; //默认路径，这里也可以使用env来判断环境\n\nlet loadingInstance = null; //这里是loading\n//使用create方法创建axios实例\n\nexport const Service = axios.create({\n  timeout: 7000,\n  // 请求超时时间\n  baseURL: ConfigBaseURL,\n  method: 'post',\n  headers: {\n    'Content-Type': 'application/json;charset:utf-8;'\n  }\n}); // 添加请求拦截器\n\nService.interceptors.request.use(config => {\n  loadingInstance = Loading.service({\n    lock: true,\n    text: 'loading...'\n  });\n  return config;\n}); // 添加响应拦截器\n\nService.interceptors.response.use(response => {\n  loadingInstance.close(); // console.log(response)\n\n  return response.data;\n}, error => {\n  console.log('TCL: error', error);\n  const msg = error.Message !== undefined ? error.Message : '';\n  Message({\n    message: '网络错误' + msg,\n    type: 'error',\n    duration: 3 * 1000\n  });\n  loadingInstance.close();\n  return Promise.reject(error);\n});","map":null,"metadata":{},"sourceType":"module"}