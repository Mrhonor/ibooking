{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      fileList: []\n    };\n  },\n\n  methods: {\n    //处理图片并添加都dom中的函数\n    readFile() {\n      // 获取input里面的文件组\n      let obj = document.querySelector('input');\n      let fileList = obj.files; //对文件组进行遍历，可以到控制台打印出fileList去看看\n\n      for (let i = 0; i < fileList.length; i++) {\n        if (fileList[i].size > 50000) {\n          window.alert('图片上传大小不能超过50K,无法上传!');\n          return;\n        }\n\n        if (!(fileList[i].type.includes('jpeg') || fileList[i].type.includes('jpg') || fileList[i].type.includes('png'))) {\n          window.alert('图片上传的格式只能是png, jpg, jpeg格式!');\n          return;\n        }\n\n        let reader = new FileReader();\n        reader.readAsDataURL(fileList[i]); // 当文件读取成功时执行的函数\n\n        reader.onload = function () {\n          let div = document.createElement('div');\n          div.innerHTML = '<img src=\"' + this.result + '\" />';\n          document.getElementById(\"img-box\").appendChild(div);\n          window.localStorage.setItem('Address', this.result);\n        };\n      }\n    },\n\n    upload() {},\n\n    save() {\n      this.readFile();\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;AAYA;EACAA,kBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC;IADA;EAGA,CATA;;EAUAC;IACA;IACAC;MACA;MACA;MACA,yBAHA,CAIA;;MACA;QACA;UACAC;UACA;QACA;;QACA;UACAA;UACA;QACA;;QACA;QACAC,kCAVA,CAWA;;QACAA;UACA;UACAC;UACAC;UACAH;QACA,CALA;MAMA;IACA,CA1BA;;IA2BAI,UACA,CA5BA;;IA6BAC;MACA;IACA;;EA/BA;AAVA","names":["name","props","msg","data","fileList","methods","readFile","window","reader","div","document","upload","save"],"sourceRoot":"src/components","sources":["HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"hello\">\n    <div class=\"input-file-box\">\n      <span>点击上传图片</span>\n      <input type=\"file\" name=\"\" id=\"uploadfile\" multiple @change=\"upload()\">\n      <button class=\"button\" @click=\"save()\">保存</button>\n    </div>\n    <div id=\"img-box\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      fileList: []\n    }\n  },\n  methods: {\n    //处理图片并添加都dom中的函数\n    readFile() {\n      // 获取input里面的文件组\n      let obj = document.querySelector('input')\n      let fileList = obj.files;\n      //对文件组进行遍历，可以到控制台打印出fileList去看看\n      for (let i = 0; i < fileList.length; i++) {\n        if (fileList[i].size > 50000) {\n          window.alert('图片上传大小不能超过50K,无法上传!')\n          return\n        }\n        if (!(fileList[i].type.includes('jpeg') || fileList[i].type.includes('jpg') || fileList[i].type.includes('png'))) {\n          window.alert('图片上传的格式只能是png, jpg, jpeg格式!')\n          return\n        }\n        let reader = new FileReader();\n        reader.readAsDataURL(fileList[i]);\n        // 当文件读取成功时执行的函数\n        reader.onload = function () {\n          let div = document.createElement('div');\n          div.innerHTML = '<img src=\"' + this.result + '\" />';\n          document.getElementById(\"img-box\").appendChild(div);\n          window.localStorage.setItem('Address', this.result)\n        }\n      }\n    },\n    upload() {\n    },\n    save() {\n      this.readFile();\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n/*外层div*/\n.input-file-box {\n  border: 1px solid gray;\n  width: 150px;\n  height: 150px;\n  position: relative;\n  text-align: center;\n  border-radius: 8px;\n  margin: 0 auto;\n}\n\n/*文字描述*/\n.input-file-box>span {\n  display: block;\n  width: 100px;\n  height: 30px;\n  position: absolute;\n  top: 0px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  color: gray;\n}\n\n/*input框*/\n.input-file-box #uploadfile {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  border: 1px dashed #999;\n}\n\n.input-file-box .button {\n  background-color: rgba(0, 255, 140, 0.66);\n  width: 50px;\n  height: 30px;\n  transform: translate(120px, -100px);\n}\n\n/* 图片  */\n#img-box {\n  width: 100%;\n  height: 300px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border: 1px dashed #999;\n  border-radius: 20px;\n  margin-top: 15px;\n}\n\n#img-box img:hover {\n  border: 1px solid red;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}